<div class="row section-item-frame @SpecialClasses">
    <div class="col-auto section-item-frame-line" />
    <div class="col">
        <div class="row section-item-frame-title @(IsChanged ? "updated" : string.Empty)" @onclick="@ChangeVisibility">
            <div class="col-auto d-flex align-items-center">
                <i class="fas @(IsVisible ? "fa-chevron-up" : "fa-chevron-down")"></i>
            </div>
            <div class="col">
                <h6>@Title</h6>
            </div>
        </div>
        @if (IsVisible)
        {
            <div class="row section-item-body">
                @ChildContent
            </div>
        }
    </div>
</div>

@inject ClientState State

@code {

    [Parameter]
    public RenderFragment ChildContent { get; set; }

    [Parameter]
    public string Title { get; set; }

    [Parameter]
    public string SpecialClasses { get; set; }

    [Parameter]
    public bool IsChanged { get; set; }

    private bool IsVisible { get; set; } = false;

    private void ChangeVisibility()
    {
        IsVisible = !IsVisible;
        StateHasChanged();
    }
}
